// Parse Request for Coords
javascript:(()=>{function dmsToDecimal(dms){let parts=dms.trim().match(/(\d+)[Â°Âº]?\s*(\d+)?['â€™]?\s*([\d.]+)?["â€]?\s*([NSEW])/i);if(!parts)return null;let deg=parseFloat(parts[1]||0),min=parseFloat(parts[2]||0),sec=parseFloat(parts[3]||0);let dir=parts[4].toUpperCase();let dec=deg+(min/60)+(sec/3600);return /[SW]/.test(dir)?-dec:dec}function copy(text,label){try{navigator.clipboard.writeText(text).then(()=>alert(`ğŸ“Œ ${label} copied to clipboard:\n${text}`)).catch(()=>prompt(`ğŸ“Œ ${label} (copy manually):`,text));}catch(e){prompt(`ğŸ“Œ ${label} (copy manually):`,text);}}let remarks=document.querySelectorAll("td:nth-child(3)");let foundCoords=false;for(let td of remarks){let text=td.innerText.replace(/\s+/g," ").trim();let match=text.match(/(\d{1,3}[Â°Âº]?\s*\d{1,2}['â€™]?\s*[\d.]+["â€]?\s*[NS])[,;\s]+(\d{1,3}[Â°Âº]?\s*\d{1,2}['â€™]?\s*[\d.]+["â€]?\s*[EW])/i);if(match){let lat=dmsToDecimal(match[1]),lon=dmsToDecimal(match[2]);if(lat&&lon){copy(`${lat}, ${lon}`,"Coordinates");foundCoords=true;break;}}}if(!foundCoords){let links=document.querySelectorAll('span.text-primary');let foundKMZ=false;for(let span of links){let name=span.innerText.toLowerCase();if(name.endsWith(".kmz")||name.endsWith(".kml")){let row=span.closest("tr");let dl=row.querySelector("a[href*='download']");if(dl){let link=dl.href.startsWith('http')?dl.href:location.origin+dl.getAttribute("href");copy(link,"KMZ/KML download link");foundKMZ=true;break;}}}if(!foundKMZ)alert("âš ï¸ No coordinates or KMZ/KML files found.");}})();